const a0_0x56de0e=a0_0x2beb;function a0_0x18d2(){const _0x406602=['\x22\x20onclick=\x22window.changePage(\x27','asshole','username','readAsDataURL','vcl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Chào\x20mừng\x20Super\x20Admin!\x20Đang\x20chuyển\x20hướng...','scrollTo','all-comments-list','none','idea-row','toLocaleDateString','phone','Đã\x20duyệt\x20ý\x20tưởng!','porn','829850conEwA','Xóa\x20lĩnh\x20vực\x20này?','initializeApp','permissions','/commentsCount','.action-btn,\x20a,\x20button,\x20.comment-box,\x20.idea-images\x20img','ngu\x20lol','categories','handleComment','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cell\x22><span\x20class=\x22category-tag\x22\x20style=\x22font-size:\x200.65rem;\x20padding:\x202px\x208px;\x22>','remove','\x22\x20class=\x22comment-box\x20hidden\x22\x20onclick=\x22event.stopPropagation()\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22comments-','constructor','addCategory','category-chip','loz','all-ideas-container','images','size','classList','1352UzsaVB','(((.+)+)+)+$','modal-img','now','Bạn\x20đã\x20thích\x20ý\x20tưởng\x20này\x20rồi!','bastard','20251qGLXaa','.toggle-icon','all','slice','bitch','fileName','apply','ideaTitle','handleLike','password','author','comments-','commentsCount','string','setItem','lồn','likes','đis','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20admin-btn-small\x22\x20style=\x22background:\x20var(--text-muted);\x20color:\x20white;\x22\x20onclick=\x22event.stopPropagation();\x20viewDetails(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20admin-btn-small\x22\x20onclick=\x22window.deleteComment(\x27','className','deo','timestamp','<span\x20style=\x22color:var(--text-muted)\x22>...</span>','Đã\x20gửi!\x20Vui\x20lòng\x20chờ\x20phê\x20duyệt.','địt','undefined','<p\x20style=\x22color:var(--text-muted);\x20font-size:0.8rem;\x22>Chưa\x20có\x20lĩnh\x20vực\x20nào.</p>','phản\x20động','Đã\x20gửi\x20bình\x20luận!','fa-chevron-up','Firebase\x20Admin\x20Error:','getItem','Không\x20tên','[Home]\x20Render\x20','category-add-group','chế\x20độ','page','fucker','Lỗi:\x20','clientY','Firebase\x20SDK\x20chưa\x20được\x20tải.\x20Vui\x20lòng\x20kiểm\x20tra\x20kết\x20nối\x20mạng.','delete','Bình\x20luận\x20chứa\x20từ\x20ngữ\x20không\x20phù\x20hợp!','idea-image','https://api.ipify.org?format=json','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Bạn\x20không\x20có\x20quyền\x20xóa!','sort','exists','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;\x20align-items:center;\x20gap:0.8rem;\x20font-size:0.85rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span><i\x20class=\x22fas\x20fa-heart\x22\x20style=\x22color:var(--danger)\x22></i>\x20','appendChild','top','bố\x20mày','admin-pass','input-','comment','admins/','description','<option\x20value=\x22\x22>--\x20Chọn\x20danh\x20mục\x20--</option>',';\x20opacity:\x20','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22page-btn\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','5020tgrpMS','superAdminLoggedIn','querySelector','bieu\x20tinh','pending-section','text','message','[data-tab=\x22feed\x22]',')\x22><i\x20class=\x22fas\x20fa-chevron-right\x22></i></button>\x0a\x20\x20\x20\x20','downloadFile','parse','length','removeItem','fuck','height','from','fucking','<span\x20style=\x22font-size:0.7rem;\x20color:var(--text-muted);\x22>Không\x20có\x20quyền\x20xóa</span>','image-preview','pussy','Không\x20thể\x20tải\x20dữ\x20liệu\x20quản\x20trị!','cac','adminSearch','bo\x20may','Xóa\x20ý\x20tưởng\x20này\x20vĩnh\x20viễn?','</button>','category-filter','ham','submit','.tab-content','approved','che\x20do','admin-search','innerHTML','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22idea-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20onclick=\x22event.stopPropagation();\x20handleLike(\x27','then','click','admin-category-filter','<option\x20value=\x22all\x22>Tất\x20cả\x20lĩnh\x20vực</option>','toDataURL','<button\x20class=\x22page-btn\x20','Đang\x20gửi...','href','hidden','all-ideas-pagination','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin0.html','tab','total','Sửa\x20tên\x20ý\x20tưởng:','getElementById','style','join','nha\x20nuoc','Đăng\x20nhập\x20Admin\x20thành\x20công!','<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22event.stopPropagation();\x20downloadFile(\x27','target','expanded','ceil','interactions/comments/','analytics','<p\x20style=\x22text-align:center;\x20color:var(--text-muted);\x20padding:\x201.5rem;\x22>Không\x20có\x20dữ\x20liệu.</p>','Không\x20tiêu\x20đề','social-link','19314GqcYsh','success','tranhuyhoang','6426366kWRDRS','Vui\x20lòng\x20nhập\x20tên\x20lĩnh\x20vực!','sort-order','vkl','Error\x20fetching\x20IP:','overflow','5px\x20solid\x20var(--','Nhập\x20mật\x20khẩu\x20tối\x20cao\x20để\x20xóa:','Lỗi\x20khi\x20duyệt!','<span>','querySelectorAll','database','deleteComment','title','includes','kich\x20dong','<option\x20value=\x22','nhà\x20nước','adminLoggedIn','comments-management-section','search-input','75jfNQGG','ADMIN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','_pageCallbacks','feed','.tab-btn','cock','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20style=\x22font-size:0.7rem;\x22>','pending','block','transaction','canvas','.expanded-content','1469816RsCUIW','off','\x27)\x22><i\x20class=\x22fas\x20fa-heart\x22></i>\x20','admins','clm','display','3573mJojry','<p\x20style=\x22text-align:center;\x20color:var(--text-muted);\x20padding:\x202rem;\x20grid-column:\x201/-1;\x22>Không\x20tìm\x20thấy\x20ý\x20tưởng\x20nào.</p>','detail-file','1.5fr\x202fr\x20100px','đcm','/permissions','viewDetails','adminData','<div\x20class=\x22loading-spinner\x22\x20style=\x22text-align:\x20center;\x20grid-column:\x201/-1\x22><i\x20class=\x22fas\x20fa-circle-notch\x20fa-spin\x20fa-2x\x22></i><p>Đang\x20tải\x20ý\x20tưởng...</p></div>','admin-dashboard','address','add','\x27,\x20\x27','mẹ\x20mày','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:\x200.7rem;\x20color:\x20var(--primary);\x20opacity:\x200.8;\x20margin-bottom:\x201rem;\x22><i\x20class=\x22fas\x20fa-shield-alt\x22></i>\x20Bạn\x20chỉ\x20được\x20Thích\x201\x20lần\x20và\x20Bình\x20luận\x201\x20lần\x20duy\x20nhất.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22comment-section-','edit','\x27)\x22>Gửi\x20bình\x20luận</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','img',')\x22><i\x20class=\x22fas\x20fa-chevron-left\x22></i></button>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:0.9rem;\x20margin:0.5rem\x200;\x22>Người\x20đăng:\x20','Sửa\x20mô\x20tả:','Bạn\x20không\x20có\x20quyền\x20xóa\x20bình\x20luận\x20này!','ngu\x20lồn','glass-panel\x20idea-card\x20','result','toast','<img\x20src=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20admin-btn-small\x22\x20style=\x22background:\x20var(--accent);\x20color:\x20white;\x22\x20onclick=\x22event.stopPropagation();\x20window.editIdea(\x27','toggleComments','adminPermissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x20admin-btn-small\x22\x20onclick=\x22event.stopPropagation();\x20window.approveIdea(\x27','error','lon','dit','deleteIdea','Lỗi\x20hệ\x20thống!','Bạn\x20không\x20có\x20quyền\x20thêm\x20lĩnh\x20vực!','Đã\x20thêm\x20lĩnh\x20vực!','Đã\x20xóa\x20lĩnh\x20vực!','\x27)\x22\x20title=\x22Xóa\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cell\x20cell-images\x22>','file','toggle','some','vcc','ideaId','\x22\x20placeholder=\x22Viết\x20bình\x20luận\x20của\x20bạn...\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20style=\x22font-size:\x200.7rem;\x20color:\x20var(--text-muted);\x20margin-top:\x205px;\x22><i\x20class=\x22fas\x20fa-info-circle\x22></i>\x20Bình\x20luận\x20của\x20bạn\x20sẽ\x20là\x20duy\x20nhất\x20và\x20không\x20thể\x20sửa,\x20chỉ\x20có\x20thể\x20xóa\x20để\x20viết\x20lại.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x22\x20style=\x22margin-top:\x2010px;\x22\x20onclick=\x22handleComment(\x27','opacity','toLowerCase','Bạn\x20không\x20có\x20quyền\x20xóa\x20lĩnh\x20vực!','val','categories-list',';\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22idea-header\x22\x20style=\x22margin-top:1rem;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22category-tag\x22>','ideas-pagination','fa-chevron-down','app','gridTemplateColumns','once','\x27)\x22\x20title=\x22Sửa\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20admin-btn-small\x22\x20onclick=\x22event.stopPropagation();\x20window.deleteIdea(\x27','\x27)\x22>','interactions/likes/','Bạn\x20không\x20có\x20quyền\x20sửa!','Đang\x20xác\x20thực\x20kết\x20nối...','trim','key','left','apps','map','stringify','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','src','hell','body','<p\x20style=\x22text-align:center;\x20padding:2rem;\x20color:var(--text-muted);\x22>Chưa\x20có\x20bình\x20luận\x20nào.</p>','categories-management-section','download','object','drawImage','deleteCategory','dis','openLightbox','con\x20mẹ','thang\x20cho','\x22\x20class=\x22admin-img-thumb\x22\x20onclick=\x22event.stopPropagation();\x20window.openLightbox(\x27','Đang\x20xác\x20thực...','child','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22collapsed-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22idea-title\x22\x20style=\x22max-width:70%;\x20overflow:hidden;\x20text-overflow:ellipsis;\x20white-space:\x20nowrap;\x22>','Bạn\x20có\x20chắc\x20chắn\x20muốn\x20xóa\x20bình\x20luận\x20này?','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ideas/','biểu\x20tình','allAdmin','input','2382105aOBIGX','dataset','ideas','update','change','true','set','smooth','createElement','\x20ideas.','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Bạn\x20chỉ\x20được\x20bình\x20luận\x20một\x20lần\x20cho\x20mỗi\x20ý\x20tưởng!','Nội\x20dung\x20chứa\x20từ\x20ngữ\x20không\x20phù\x20hợp.\x20Vui\x20lòng\x20kiểm\x20tra\x20lại!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cell\x20cell-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','approveIdea','width','btn-login','dang','ref','comments','\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22input-','preventDefault','onclick','.idea-card.expanded','image-modal','dick','/likes','disabled','File\x20chi\x20tiết\x20phải\x20dưới\x2020KB!','comments/','name','\x27)\x22\x20title=\x22Duyệt\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','forEach','\x0aMô\x20tả:\x20','storage','damn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cell\x20cell-author\x22\x20style=\x22font-size:\x200.75rem;\x22>','category','primary','80px','editIdea','\x27,\x20',')\x22>','reset','adminCat','expandedId','Tài\x20khoản\x20hoặc\x20mật\x20khẩu\x20không\x20chính\x20xác!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22cat-name\x22>','files','push','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Load\x20ideas\x20error:','btn-logout','comment-section-','\x27)\x22\x20style=\x22color:var(--primary);\x20font-size:0.8rem;\x20display:block;\x20margin-bottom:0.5rem;\x22><i\x20class=\x22fas\x20fa-file-download\x22></i>\x20Tải\x20file:\x20','contains','toString','json','fileBase64','đảng','borderLeft','danger','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20delete-cat\x22\x20onclick=\x22event.stopPropagation();\x20window.deleteCategory(\x27','search','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cell\x22\x20style=\x22font-size:0.75rem;\x22><i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20','CHI\x20TIẾT\x20Ý\x20TƯỞNG\x0a\x0aTên:\x20','approve','sex','value','fullname','auto','getContext','active','image/jpeg','onload','flex','admin-user','replace','me\x20may','dcm','addEventListener','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cell\x20cell-title\x22\x20title=\x22','phan\x20dong','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cell\x22\x20style=\x22color:\x20var(--text-muted);\x20font-weight:\x20700;\x22>','mousemove','cặc'];a0_0x18d2=function(){return _0x406602;};return a0_0x18d2();}(function(_0x46ead9,_0x5dffcf){const _0x4dc3d7=a0_0x2beb,_0x3e129d=_0x46ead9();while(!![]){try{const _0x419cf2=-parseInt(_0x4dc3d7(0x162))/0x1+parseInt(_0x4dc3d7(0x1fc))/0x2*(parseInt(_0x4dc3d7(0x89))/0x3)+parseInt(_0x4dc3d7(0x96))/0x4+-parseInt(_0x4dc3d7(0xfa))/0x5+parseInt(_0x4dc3d7(0x1ff))/0x6+-parseInt(_0x4dc3d7(0x17c))/0x7*(-parseInt(_0x4dc3d7(0x176))/0x8)+-parseInt(_0x4dc3d7(0x9c))/0x9*(parseInt(_0x4dc3d7(0x1bc))/0xa);if(_0x419cf2===_0x5dffcf)break;else _0x3e129d['push'](_0x3e129d['shift']());}catch(_0x4b82db){_0x3e129d['push'](_0x3e129d['shift']());}}}(a0_0x18d2,0xa1efc));const a0_0x1ac264=(function(){let _0x3210cb=!![];return function(_0x23fa00,_0x58f543){const _0x130183=_0x3210cb?function(){const _0x2b2e2b=a0_0x2beb;if(_0x58f543){const _0x1e3d07=_0x58f543[_0x2b2e2b(0x182)](_0x23fa00,arguments);return _0x58f543=null,_0x1e3d07;}}:function(){};return _0x3210cb=![],_0x130183;};}()),a0_0x60a88a=a0_0x1ac264(this,function(){const _0xb637e4=a0_0x2beb;return a0_0x60a88a[_0xb637e4(0x132)]()['search'](_0xb637e4(0x177))[_0xb637e4(0x132)]()[_0xb637e4(0x16e)](a0_0x60a88a)[_0xb637e4(0x13a)](_0xb637e4(0x177));});a0_0x60a88a();import a0_0x172bed from'./firebase-config.js';let db,storage,analytics;try{if(typeof firebase===a0_0x56de0e(0x196))throw new Error(a0_0x56de0e(0x1a5));const app=firebase[a0_0x56de0e(0xdf)][a0_0x56de0e(0x1c7)]?firebase[a0_0x56de0e(0xd3)]():firebase[a0_0x56de0e(0x164)](a0_0x172bed);db=app[a0_0x56de0e(0x20a)](),storage=app[a0_0x56de0e(0x11c)]?app['storage']():null,analytics=app[a0_0x56de0e(0x1f8)]?app[a0_0x56de0e(0x1f8)]():null;}catch(a0_0x5879a9){console[a0_0x56de0e(0xbb)]('Firebase\x20init\x20error:',a0_0x5879a9);}let currentUserIP='',isAdmin=![];const ITEMS_PER_PAGE=0xa;let state={'feed':{'page':0x1,'total':0x0,'ideas':[]},'pending':{'page':0x1,'total':0x0,'ideas':[]},'allAdmin':{'page':0x1,'total':0x0,'ideas':[]},'adminSearch':'','adminCat':'all','expandedId':null,'adminPermissions':{'approve':![],'edit':![],'delete':![],'comment':![],'category':![],'deleteCategory':![]}};const PROHIBITED_WORDS=['đm','dm',a0_0x56de0e(0xa0),a0_0x56de0e(0x14b),a0_0x56de0e(0x157),a0_0x56de0e(0x202),a0_0x56de0e(0xc8),'vclm',a0_0x56de0e(0x9a),'cl',a0_0x56de0e(0x171),a0_0x56de0e(0x18b),a0_0x56de0e(0xbc),a0_0x56de0e(0x152),a0_0x56de0e(0x1d1),a0_0x56de0e(0x195),a0_0x56de0e(0xbd),'đú','du','đéo',a0_0x56de0e(0x191),a0_0x56de0e(0x18d),a0_0x56de0e(0xec),a0_0x56de0e(0xa9),a0_0x56de0e(0x14a),a0_0x56de0e(0xee),a0_0x56de0e(0x1b1),a0_0x56de0e(0x1d3),'thằng\x20chó',a0_0x56de0e(0xef),a0_0x56de0e(0x168),a0_0x56de0e(0xb2),'hãm',a0_0x56de0e(0x1d7),'đù','du','đm',a0_0x56de0e(0x1c9),a0_0x56de0e(0x1cc),'shit',a0_0x56de0e(0x180),a0_0x56de0e(0x154),a0_0x56de0e(0x17b),a0_0x56de0e(0x1cf),a0_0x56de0e(0x113),a0_0x56de0e(0x8f),a0_0x56de0e(0x13f),a0_0x56de0e(0x161),a0_0x56de0e(0x1a2),a0_0x56de0e(0xe4),a0_0x56de0e(0x11d),a0_0x56de0e(0x198),a0_0x56de0e(0x14e),a0_0x56de0e(0xf7),a0_0x56de0e(0x1bf),'kích\x20động',a0_0x56de0e(0x83),a0_0x56de0e(0x1a0),a0_0x56de0e(0x1db),a0_0x56de0e(0x85),a0_0x56de0e(0x1f1),'biểu\x20tình',a0_0x56de0e(0x135),a0_0x56de0e(0x10b),a0_0x56de0e(0xf7)];function isCleanContent(_0x2039f3){const _0x664fad=a0_0x56de0e;if(!_0x2039f3)return!![];const _0x3e2c0d=_0x2039f3[_0x664fad(0xcc)]()[_0x664fad(0x149)](/[^a-z0-9àáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷỹđ]/g,'');return!PROHIBITED_WORDS[_0x664fad(0xc7)](_0x276182=>{const _0x5ef69a=_0x664fad,_0x52fffd=_0x276182['replace'](/\s+/g,'');return _0x3e2c0d[_0x5ef69a(0x82)](_0x52fffd);});}document[a0_0x56de0e(0x14c)]('DOMContentLoaded',async()=>{const _0x1d448b=a0_0x56de0e;await fetchIP(),setupAdminSession(),setupTabs(),setupForm(),setupAdmin(),loadCategories(),loadIdeas(),setupLightbox(),setupInteractiveBG();const _0x3ba8a7=document[_0x1d448b(0x1ee)](_0x1d448b(0x201)),_0x4e4597=document[_0x1d448b(0x1ee)](_0x1d448b(0x1d6)),_0x9accb7=document[_0x1d448b(0x1ee)]('search-input'),_0xf4d919=document[_0x1d448b(0x1ee)]('btn-add-category');if(_0x3ba8a7)_0x3ba8a7['addEventListener'](_0x1d448b(0xfe),()=>{const _0x53c078=_0x1d448b;state[_0x53c078(0x8d)][_0x53c078(0x1a1)]=0x1,loadIdeas();});if(_0x4e4597)_0x4e4597[_0x1d448b(0x14c)]('change',()=>{const _0xb51cc5=_0x1d448b;state[_0xb51cc5(0x8d)][_0xb51cc5(0x1a1)]=0x1,loadIdeas();});_0x9accb7&&_0x9accb7[_0x1d448b(0x14c)](_0x1d448b(0xf9),debounce(()=>{const _0x35eddb=_0x1d448b;state[_0x35eddb(0x8d)]['page']=0x1,loadIdeas();},0x1f4));_0xf4d919&&(_0xf4d919[_0x1d448b(0x110)]=_0x2e2214=>{const _0x5148de=_0x1d448b;_0x2e2214['preventDefault'](),window[_0x5148de(0x16f)]();});const _0x33eaa4=document['getElementById'](_0x1d448b(0x1dc)),_0x391dbb=document['getElementById'](_0x1d448b(0x1e1));_0x33eaa4&&_0x33eaa4[_0x1d448b(0x14c)](_0x1d448b(0xf9),debounce(_0x15befb=>{const _0x344fd5=_0x1d448b;state[_0x344fd5(0x1d2)]=_0x15befb['target'][_0x344fd5(0x140)][_0x344fd5(0xcc)](),state[_0x344fd5(0xf8)][_0x344fd5(0x1a1)]=0x1,loadAdminDashboard();},0x1f4)),_0x391dbb&&_0x391dbb[_0x1d448b(0x14c)](_0x1d448b(0xfe),_0x805c66=>{const _0x58e19e=_0x1d448b;state[_0x58e19e(0x126)]=_0x805c66[_0x58e19e(0x1f4)]['value'],state[_0x58e19e(0xf8)][_0x58e19e(0x1a1)]=0x1,loadAdminDashboard();});});function setupAdminSession(){const _0x1fec5f=a0_0x56de0e;localStorage[_0x1fec5f(0x19c)](_0x1fec5f(0x86))===_0x1fec5f(0xff)&&processLoginSuccess();}function processLoginSuccess(){const _0x5c70d4=a0_0x56de0e;isAdmin=!![];const _0x4ae3b2=JSON[_0x5c70d4(0x1c6)](localStorage[_0x5c70d4(0x19c)](_0x5c70d4(0xa3))||'{}');state[_0x5c70d4(0xb9)]=_0x4ae3b2[_0x5c70d4(0x165)]||{'approve':![],'edit':![],'delete':![],'comment':![],'category':![],'deleteCategory':![]};const _0x22a2fe=db[_0x5c70d4(0x10c)](_0x5c70d4(0x99));_0x22a2fe[_0x5c70d4(0xd5)](_0x5c70d4(0x140))[_0x5c70d4(0x1df)](_0x4d92d5=>{const _0x5f0b29=_0x5c70d4;let _0x13b88b=null;_0x4d92d5[_0x5f0b29(0x11a)](_0x1ab463=>{const _0x155931=_0x5f0b29;if(_0x1ab463['val']()[_0x155931(0x155)]===_0x4ae3b2[_0x155931(0x155)])_0x13b88b=_0x1ab463[_0x155931(0xdd)];}),_0x13b88b&&db[_0x5f0b29(0x10c)](_0x5f0b29(0x1b5)+_0x13b88b+_0x5f0b29(0xa1))['on'](_0x5f0b29(0x140),_0xe277bd=>{const _0x3c085e=_0x5f0b29;_0xe277bd[_0x3c085e(0x1ad)]()&&(state[_0x3c085e(0xb9)]=_0xe277bd[_0x3c085e(0xce)](),_0x4ae3b2['permissions']=state[_0x3c085e(0xb9)],localStorage['setItem'](_0x3c085e(0xa3),JSON[_0x3c085e(0xe1)](_0x4ae3b2)),loadCategories(),loadAdminDashboard());});});const _0x549d9d=document[_0x5c70d4(0x1ee)]('admin-login-ui'),_0x5f3488=document[_0x5c70d4(0x1ee)](_0x5c70d4(0xa5));if(_0x549d9d)_0x549d9d[_0x5c70d4(0x175)]['add'](_0x5c70d4(0x1e7));if(_0x5f3488)_0x5f3488[_0x5c70d4(0x175)][_0x5c70d4(0x16c)](_0x5c70d4(0x1e7));loadAdminDashboard();}function debounce(_0x48195c,_0x4a8780){let _0x5b926d;return function _0xd0cf93(..._0x4a2d98){const _0x1e7db6=()=>{clearTimeout(_0x5b926d),_0x48195c(..._0x4a2d98);};clearTimeout(_0x5b926d),_0x5b926d=setTimeout(_0x1e7db6,_0x4a8780);};}function setupInteractiveBG(){const _0x2a0477=a0_0x56de0e,_0x5e12f4=document[_0x2a0477(0x1ee)]('bg-spotlight');if(!_0x5e12f4)return;window['addEventListener'](_0x2a0477(0x151),_0x55db83=>{const _0x4c120b=_0x2a0477;_0x5e12f4[_0x4c120b(0x1ef)][_0x4c120b(0xde)]=_0x55db83['clientX']+'px',_0x5e12f4[_0x4c120b(0x1ef)][_0x4c120b(0x1b0)]=_0x55db83[_0x4c120b(0x1a4)]+'px';});}async function fetchIP(){const _0x59552b=a0_0x56de0e;try{const _0x5e9266=await fetch(_0x59552b(0x1a9)),_0x178942=await _0x5e9266[_0x59552b(0x133)]();currentUserIP=_0x178942['ip'][_0x59552b(0x149)](/\./g,'_');}catch(_0x46c3ad){console[_0x59552b(0xbb)](_0x59552b(0x203),_0x46c3ad);}}function setupTabs(){const _0xf34ad0=a0_0x56de0e,_0x58a992=document[_0xf34ad0(0x209)](_0xf34ad0(0x8e)),_0x5dce92=document['querySelectorAll'](_0xf34ad0(0x1d9));_0x58a992[_0xf34ad0(0x11a)](_0x5be086=>{const _0x17b215=_0xf34ad0;_0x5be086['addEventListener'](_0x17b215(0x1e0),()=>{const _0x3152f9=_0x17b215,_0x56b34b=_0x5be086[_0x3152f9(0xfb)][_0x3152f9(0x1eb)];_0x58a992[_0x3152f9(0x11a)](_0x3c117d=>_0x3c117d[_0x3152f9(0x175)]['remove']('active')),_0x5dce92['forEach'](_0x3e0d55=>_0x3e0d55[_0x3152f9(0x175)]['remove'](_0x3152f9(0x144))),_0x5be086['classList'][_0x3152f9(0xa7)]('active');const _0x1874bc=document[_0x3152f9(0x1ee)](_0x56b34b);if(_0x1874bc)_0x1874bc[_0x3152f9(0x175)][_0x3152f9(0xa7)](_0x3152f9(0x144));if(_0x56b34b==='feed')loadIdeas();});});}function setupForm(){const _0x299872=a0_0x56de0e,_0x465501=document[_0x299872(0x1ee)]('idea-form');if(!_0x465501)return;const _0x462f23=document[_0x299872(0x1ee)](_0x299872(0x173)),_0x1598a2=document['getElementById'](_0x299872(0x1ce));let _0x3d34f7=[];_0x462f23[_0x299872(0x14c)]('change',async _0x691f29=>{const _0x47e6fd=_0x299872;_0x1598a2[_0x47e6fd(0x1dd)]='',_0x3d34f7=[];const _0x2e3581=Array[_0x47e6fd(0x1cb)](_0x691f29[_0x47e6fd(0x1f4)]['files'])[_0x47e6fd(0x17f)](0x0,0x3);for(const _0x340787 of _0x2e3581){const _0x185b2b=await resizeImage(_0x340787,0x190,0x190,0.7);_0x3d34f7[_0x47e6fd(0x12b)](_0x185b2b);const _0x1c9b2e=document[_0x47e6fd(0x102)](_0x47e6fd(0xad));_0x1c9b2e[_0x47e6fd(0xe3)]=_0x185b2b,_0x1c9b2e[_0x47e6fd(0x190)]=_0x47e6fd(0x1a8),_0x1c9b2e[_0x47e6fd(0x1ef)][_0x47e6fd(0x109)]=_0x47e6fd(0x121),_0x1598a2[_0x47e6fd(0x1af)](_0x1c9b2e);}}),_0x465501[_0x299872(0x14c)](_0x299872(0x1d8),async _0x2c24ca=>{const _0x29fc20=_0x299872;_0x2c24ca[_0x29fc20(0x10f)]();const _0x1faa02=document[_0x29fc20(0x1ee)](_0x29fc20(0x9e))[_0x29fc20(0x12a)][0x0];if(_0x1faa02&&_0x1faa02[_0x29fc20(0x174)]>0x5000){showToast(_0x29fc20(0x116),'danger');return;}const _0x3426e2=document[_0x29fc20(0x1ee)](_0x29fc20(0x81))[_0x29fc20(0x140)],_0x2eae6c=document[_0x29fc20(0x1ee)](_0x29fc20(0x1b6))[_0x29fc20(0x140)],_0x3c0210=document[_0x29fc20(0x1ee)](_0x29fc20(0x141))[_0x29fc20(0x140)];if(!isCleanContent(_0x3426e2)||!isCleanContent(_0x2eae6c)||!isCleanContent(_0x3c0210))return showToast(_0x29fc20(0x106),'danger');const _0x37793e={'category':document[_0x29fc20(0x1ee)](_0x29fc20(0x11f))[_0x29fc20(0x140)],'title':_0x3426e2,'description':_0x2eae6c,'author':{'name':_0x3c0210,'phone':document['getElementById'](_0x29fc20(0x15f))[_0x29fc20(0x140)],'address':document[_0x29fc20(0x1ee)]('address')[_0x29fc20(0x140)]},'socialLink':document[_0x29fc20(0x1ee)](_0x29fc20(0x1fb))[_0x29fc20(0x140)],'status':'pending','timestamp':Date['now'](),'likes':0x0,'images':_0x3d34f7,'commentsCount':0x0};try{showToast(_0x29fc20(0x1e5),_0x29fc20(0x120)),_0x1faa02&&(_0x37793e[_0x29fc20(0x134)]=await new Promise(_0x150c6a=>{const _0x2a65ef=_0x29fc20,_0x1a5abb=new FileReader();_0x1a5abb[_0x2a65ef(0x146)]=_0x327e15=>_0x150c6a(_0x327e15['target'][_0x2a65ef(0xb4)]),_0x1a5abb[_0x2a65ef(0x156)](_0x1faa02);}),_0x37793e['fileName']=_0x1faa02[_0x29fc20(0x118)]),await db[_0x29fc20(0x10c)](_0x29fc20(0xfc))[_0x29fc20(0x12b)]()['set'](_0x37793e),showToast(_0x29fc20(0x194),_0x29fc20(0x1fd)),_0x465501[_0x29fc20(0x125)](),_0x1598a2[_0x29fc20(0x1dd)]='',_0x3d34f7=[],document['querySelector'](_0x29fc20(0x1c3))[_0x29fc20(0x1e0)]();}catch(_0x278150){showToast(_0x29fc20(0x1a3)+_0x278150[_0x29fc20(0x1c2)],_0x29fc20(0x137));}});}function loadCategories(){const _0x111dab=a0_0x56de0e;if(!db)return;db[_0x111dab(0x10c)](_0x111dab(0x169))['on'](_0x111dab(0x140),_0x12ea73=>{const _0x45c09d=_0x111dab,_0x3d4d1b=[];_0x12ea73[_0x45c09d(0x11a)](_0x477663=>{const _0x3e8e53=_0x45c09d,_0x53ab60=_0x477663[_0x3e8e53(0xce)]();typeof _0x53ab60==='object'&&_0x53ab60!==null?_0x3d4d1b[_0x3e8e53(0x12b)]({'id':_0x477663['key'],..._0x53ab60}):_0x3d4d1b[_0x3e8e53(0x12b)]({'id':_0x477663[_0x3e8e53(0xdd)],'name':_0x53ab60});});const _0x2056fc=document[_0x45c09d(0x1ee)](_0x45c09d(0x1d6)),_0xf587b3=document['getElementById']('category'),_0x5f5481=document[_0x45c09d(0x1ee)](_0x45c09d(0xcf)),_0x41a1d2=document['getElementById']('admin-category-filter');_0x2056fc&&(_0x2056fc[_0x45c09d(0x1dd)]=_0x45c09d(0x1e2),_0x3d4d1b[_0x45c09d(0x11a)](_0x55fada=>_0x2056fc[_0x45c09d(0x1dd)]+=_0x45c09d(0x84)+_0x55fada[_0x45c09d(0x118)]+'\x22>'+_0x55fada[_0x45c09d(0x118)]+'</option>')),_0x41a1d2&&(_0x41a1d2[_0x45c09d(0x1dd)]=_0x45c09d(0x1e2),_0x3d4d1b['forEach'](_0x15c93c=>_0x41a1d2[_0x45c09d(0x1dd)]+=_0x45c09d(0x84)+_0x15c93c[_0x45c09d(0x118)]+'\x22>'+_0x15c93c[_0x45c09d(0x118)]+'</option>'),_0x41a1d2[_0x45c09d(0x140)]=state['adminCat']),_0xf587b3&&(_0xf587b3[_0x45c09d(0x1dd)]=_0x45c09d(0x1b7),_0x3d4d1b[_0x45c09d(0x11a)](_0x171f8b=>_0xf587b3[_0x45c09d(0x1dd)]+=_0x45c09d(0x84)+_0x171f8b[_0x45c09d(0x118)]+'\x22>'+_0x171f8b[_0x45c09d(0x118)]+'</option>')),_0x5f5481&&(_0x5f5481[_0x45c09d(0x1dd)]='',_0x3d4d1b[_0x45c09d(0x1c7)]===0x0&&(_0x5f5481[_0x45c09d(0x1dd)]=_0x45c09d(0x197)),_0x3d4d1b[_0x45c09d(0x11a)](_0x25507d=>{const _0x31dabd=_0x45c09d,_0x20cc90=typeof _0x25507d===_0x31dabd(0xe9)&&_0x25507d[_0x31dabd(0x118)]?_0x25507d[_0x31dabd(0x118)]:typeof _0x25507d===_0x31dabd(0x189)?_0x25507d:_0x25507d[_0x31dabd(0x118)]||_0x31dabd(0x19d),_0xc0c25b=document[_0x31dabd(0x102)](_0x31dabd(0x138));_0xc0c25b[_0x31dabd(0x190)]=_0x31dabd(0x170),_0xc0c25b[_0x31dabd(0x1dd)]=_0x31dabd(0x129)+_0x20cc90+_0x31dabd(0x1aa)+(state[_0x31dabd(0xb9)][_0x31dabd(0xeb)]?_0x31dabd(0x139)+_0x25507d['id']+'\x27)\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5f5481[_0x31dabd(0x1af)](_0xc0c25b);}));});}window[a0_0x56de0e(0x16f)]=async()=>{const _0xa5f3bd=a0_0x56de0e;if(!isAdmin||!state[_0xa5f3bd(0xb9)][_0xa5f3bd(0x11f)])return showToast(_0xa5f3bd(0xc0),_0xa5f3bd(0x137));const _0x1fa2bf=document['getElementById']('new-category-name');if(!_0x1fa2bf)return;const _0x1c85cc=_0x1fa2bf[_0xa5f3bd(0x140)][_0xa5f3bd(0xdc)]();if(_0x1c85cc)try{await db['ref']('categories')[_0xa5f3bd(0x12b)]({'name':_0x1c85cc}),_0x1fa2bf[_0xa5f3bd(0x140)]='',showToast(_0xa5f3bd(0xc1),_0xa5f3bd(0x1fd));}catch(_0x33e358){showToast('Lỗi:\x20'+_0x33e358[_0xa5f3bd(0x1c2)],_0xa5f3bd(0x137));}else showToast(_0xa5f3bd(0x200),_0xa5f3bd(0x120));},window[a0_0x56de0e(0xeb)]=async _0x537e66=>{const _0x1e8d4e=a0_0x56de0e;if(!isAdmin||!state[_0x1e8d4e(0xb9)][_0x1e8d4e(0xeb)])return showToast(_0x1e8d4e(0xcd),_0x1e8d4e(0x137));if(confirm(_0x1e8d4e(0x163)))try{await db[_0x1e8d4e(0x10c)]('categories')[_0x1e8d4e(0xf2)](_0x537e66)[_0x1e8d4e(0x16c)](),showToast(_0x1e8d4e(0xc2),_0x1e8d4e(0x1fd));}catch(_0x82202){showToast('Lỗi\x20khi\x20xóa!','danger');}};function loadIdeas(){const _0x55602b=a0_0x56de0e,_0x32be33=document[_0x55602b(0x1ee)]('ideas-container');if(!_0x32be33)return;_0x32be33[_0x55602b(0x1dd)]=_0x55602b(0xa4),db[_0x55602b(0x10c)](_0x55602b(0xfc))[_0x55602b(0x97)]('value'),db[_0x55602b(0x10c)](_0x55602b(0xfc))['on'](_0x55602b(0x140),_0x49c345=>{const _0x3f0963=_0x55602b;let _0x16d7c9=[];_0x49c345[_0x3f0963(0x11a)](_0x31383d=>{const _0x31d68a=_0x3f0963,_0x505764=_0x31383d[_0x31d68a(0xce)]();_0x505764&&_0x505764[_0x31d68a(0x14f)]===_0x31d68a(0x1da)&&_0x16d7c9[_0x31d68a(0x12b)]({'id':_0x31383d['key'],..._0x505764});});const _0x15fe8a=document[_0x3f0963(0x1ee)](_0x3f0963(0x1d6))?.[_0x3f0963(0x140)]||_0x3f0963(0x17e);let _0x19afe5=_0x16d7c9;if(_0x15fe8a!==_0x3f0963(0x17e))_0x19afe5=_0x16d7c9[_0x3f0963(0x13b)](_0x231035=>_0x231035[_0x3f0963(0x11f)]===_0x15fe8a);const _0x5626ef=document[_0x3f0963(0x1ee)](_0x3f0963(0x88))?.[_0x3f0963(0x140)][_0x3f0963(0xdc)]()['toLowerCase']();_0x5626ef&&(_0x19afe5=_0x19afe5[_0x3f0963(0x13b)](_0x4f381a=>_0x4f381a[_0x3f0963(0x81)]&&_0x4f381a[_0x3f0963(0x81)][_0x3f0963(0xcc)]()[_0x3f0963(0x82)](_0x5626ef)||_0x4f381a['description']&&_0x4f381a[_0x3f0963(0x1b6)][_0x3f0963(0xcc)]()[_0x3f0963(0x82)](_0x5626ef)||_0x4f381a[_0x3f0963(0x186)]?.[_0x3f0963(0x118)]&&_0x4f381a[_0x3f0963(0x186)][_0x3f0963(0x118)][_0x3f0963(0xcc)]()[_0x3f0963(0x82)](_0x5626ef)));const _0x37de22=document[_0x3f0963(0x1ee)]('sort-order')?.[_0x3f0963(0x140)]||_0x3f0963(0x18c);_0x19afe5[_0x3f0963(0x1ac)]((_0x16ac7f,_0x5d590e)=>_0x37de22===_0x3f0963(0x18c)?(_0x5d590e[_0x3f0963(0x18c)]||0x0)-(_0x16ac7f[_0x3f0963(0x18c)]||0x0):_0x5d590e[_0x3f0963(0x192)]-_0x16ac7f[_0x3f0963(0x192)]),state[_0x3f0963(0x8d)][_0x3f0963(0xfc)]=_0x19afe5,state[_0x3f0963(0x8d)]['total']=_0x19afe5[_0x3f0963(0x1c7)],console['log'](_0x3f0963(0x19e)+_0x19afe5[_0x3f0963(0x1c7)]+_0x3f0963(0x103)),renderIdeasWithPagination(_0x3f0963(0x8d),_0x32be33,_0x3f0963(0xd1));},_0x16a442=>{const _0x2b137d=_0x55602b;console['error'](_0x2b137d(0x12d),_0x16a442),_0x32be33[_0x2b137d(0x1dd)]='<p\x20style=\x22grid-column:\x201/-1;\x20text-align:\x20center;\x20color:\x20var(--danger);\x22>Không\x20thể\x20kết\x20nối\x20dữ\x20liệu.</p>';});}function renderIdeasWithPagination(_0x2c6b02,_0x136679,_0x2ffb2c,_0x3e6b9a=![]){const _0x47d6e7=a0_0x56de0e,_0x35e9b0=state[_0x2c6b02],_0x431e5f=(_0x35e9b0[_0x47d6e7(0x1a1)]-0x1)*ITEMS_PER_PAGE,_0x455a52=_0x431e5f+ITEMS_PER_PAGE,_0x35a7bc=_0x35e9b0[_0x47d6e7(0xfc)][_0x47d6e7(0x17f)](_0x431e5f,_0x455a52);renderIdeas(_0x35a7bc,_0x136679,_0x3e6b9a),renderPagination(_0x2ffb2c,_0x35e9b0[_0x47d6e7(0x1ec)],_0x35e9b0[_0x47d6e7(0x1a1)],_0x3ff8aa=>{const _0x2c5b19=_0x47d6e7;_0x35e9b0[_0x2c5b19(0x1a1)]=_0x3ff8aa,_0x2c6b02===_0x2c5b19(0x8d)?(renderIdeasWithPagination(_0x2c6b02,_0x136679,_0x2ffb2c,_0x3e6b9a),window[_0x2c5b19(0x15a)]({'top':0x0,'behavior':_0x2c5b19(0x101)})):renderIdeasWithPagination(_0x2c6b02,_0x136679,_0x2ffb2c,_0x3e6b9a);});}function renderPagination(_0x115268,_0x5991b1,_0x5e9cfb,_0x53e56f){const _0x8d3775=a0_0x56de0e,_0x25ec32=document['getElementById'](_0x115268);if(!_0x25ec32)return;const _0x5d566f=Math[_0x8d3775(0x1f6)](_0x5991b1/ITEMS_PER_PAGE);if(_0x5d566f<=0x1){_0x25ec32['innerHTML']='';return;}let _0x44b2ac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22page-btn\x20'+(_0x5e9cfb===0x1?_0x8d3775(0x115):'')+'\x22\x20onclick=\x22window.changePage(\x27'+_0x115268+_0x8d3775(0x123)+(_0x5e9cfb-0x1)+_0x8d3775(0xae);for(let _0x2e8164=0x1;_0x2e8164<=_0x5d566f;_0x2e8164++){if(_0x2e8164===0x1||_0x2e8164===_0x5d566f||_0x2e8164>=_0x5e9cfb-0x1&&_0x2e8164<=_0x5e9cfb+0x1)_0x44b2ac+=_0x8d3775(0x1e4)+(_0x2e8164===_0x5e9cfb?_0x8d3775(0x144):'')+_0x8d3775(0x153)+_0x115268+_0x8d3775(0x123)+_0x2e8164+_0x8d3775(0x124)+_0x2e8164+_0x8d3775(0x1d5);else(_0x2e8164===_0x5e9cfb-0x2||_0x2e8164===_0x5e9cfb+0x2)&&(_0x44b2ac+=_0x8d3775(0x193));}_0x44b2ac+=_0x8d3775(0x1ba)+(_0x5e9cfb===_0x5d566f?_0x8d3775(0x115):'')+_0x8d3775(0x153)+_0x115268+'\x27,\x20'+(_0x5e9cfb+0x1)+_0x8d3775(0x1c4),_0x25ec32[_0x8d3775(0x1dd)]=_0x44b2ac,window[_0x8d3775(0x8c)]=window[_0x8d3775(0x8c)]||{},window[_0x8d3775(0x8c)][_0x115268]=_0x53e56f;}window['changePage']=(_0xc0aad9,_0x573e55)=>{const _0x2d4c99=a0_0x56de0e;if(window[_0x2d4c99(0x8c)][_0xc0aad9])window[_0x2d4c99(0x8c)][_0xc0aad9](_0x573e55);};const downloadFile=(_0x38f54b,_0x339e11)=>{const _0x495821=a0_0x56de0e,_0x21a8ab=document[_0x495821(0x102)]('a');_0x21a8ab[_0x495821(0x1e6)]=_0x38f54b,_0x21a8ab[_0x495821(0xe8)]=_0x339e11||_0x495821(0xc5),_0x21a8ab[_0x495821(0x1e0)]();};window[a0_0x56de0e(0x1c5)]=downloadFile;function renderIdeas(_0x917330,_0x571d95,_0x5f15a9=![]){const _0x53a895=a0_0x56de0e;!_0x5f15a9?(_0x571d95[_0x53a895(0x1dd)]=_0x917330[_0x53a895(0x1c7)]?'':_0x53a895(0x9d),_0x917330[_0x53a895(0x11a)](_0x1e70aa=>{const _0x4b145a=_0x53a895,_0x5d6707=document[_0x4b145a(0x102)](_0x4b145a(0x138)),_0x5511f8=state[_0x4b145a(0x127)]===_0x1e70aa['id'];_0x5d6707[_0x4b145a(0x190)]=_0x4b145a(0xb3)+(_0x5511f8?_0x4b145a(0x1f5):''),_0x5d6707[_0x4b145a(0xfb)]['id']=_0x1e70aa['id'];const _0x53e492=_0x1e70aa[_0x4b145a(0x134)]?_0x4b145a(0x1f3)+_0x1e70aa[_0x4b145a(0x134)]+_0x4b145a(0xa8)+_0x1e70aa[_0x4b145a(0x181)]+_0x4b145a(0x130)+_0x1e70aa['fileName']+'</a>':'',_0x4bf878=_0x1e70aa[_0x4b145a(0x173)]?.[_0x4b145a(0xe0)](_0x2c2b38=>_0x4b145a(0xb6)+_0x2c2b38+'\x22\x20class=\x22idea-image\x22\x20onclick=\x22event.stopPropagation();\x20window.openLightbox(\x27'+_0x2c2b38+_0x4b145a(0xd8))[_0x4b145a(0x1f0)]('')||'';_0x5d6707[_0x4b145a(0x1dd)]=_0x4b145a(0xf3)+(_0x1e70aa[_0x4b145a(0x81)]||_0x4b145a(0x1fa))+_0x4b145a(0x1ae)+(_0x1e70aa[_0x4b145a(0x18c)]||0x0)+_0x4b145a(0xe2)+(_0x5511f8?_0x4b145a(0x19a):_0x4b145a(0xd2))+'\x20toggle-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22expanded-content\x22\x20style=\x22display:\x20'+(_0x5511f8?_0x4b145a(0x92):_0x4b145a(0x15c))+_0x4b145a(0x1b8)+(_0x5511f8?'1':'0')+_0x4b145a(0xd0)+_0x1e70aa[_0x4b145a(0x11f)]+_0x4b145a(0x90)+new Date(_0x1e70aa[_0x4b145a(0x192)])[_0x4b145a(0x15e)]()+_0x4b145a(0xaf)+_0x1e70aa[_0x4b145a(0x186)][_0x4b145a(0x118)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22idea-description\x22\x20style=\x22font-size:0.95rem;\x20line-height:\x201.5;\x20margin-bottom:\x201rem;\x22>'+_0x1e70aa['description']+_0x4b145a(0x1e9)+_0x53e492+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22idea-images\x22>'+_0x4bf878+_0x4b145a(0x1de)+_0x1e70aa['id']+_0x4b145a(0x98)+(_0x1e70aa[_0x4b145a(0x18c)]||0x0)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22action-btn\x22\x20onclick=\x22event.stopPropagation();\x20toggleComments(\x27'+_0x1e70aa['id']+'\x27)\x22><i\x20class=\x22fas\x20fa-comment\x22></i>\x20'+(_0x1e70aa[_0x4b145a(0x188)]||0x0)+_0x4b145a(0xaa)+_0x1e70aa['id']+_0x4b145a(0x16d)+_0x1e70aa['id']+_0x4b145a(0x10e)+_0x1e70aa['id']+_0x4b145a(0xca)+_0x1e70aa['id']+_0x4b145a(0xac),_0x5d6707[_0x4b145a(0x110)]=_0xde2757=>{const _0x2502f1=_0x4b145a;if(_0xde2757[_0x2502f1(0x1f4)][_0x2502f1(0x1b9)](_0x2502f1(0x167)))return;const _0xdeddf8=_0x5d6707[_0x2502f1(0x175)]['contains'](_0x2502f1(0x1f5));document[_0x2502f1(0x209)](_0x2502f1(0x111))[_0x2502f1(0x11a)](_0x1e70a3=>{const _0x22a6cb=_0x2502f1;if(_0x1e70a3!==_0x5d6707){_0x1e70a3['classList']['remove'](_0x22a6cb(0x1f5));const _0x22d260=_0x1e70a3[_0x22a6cb(0x1be)]('.expanded-content');_0x22d260&&(_0x22d260['style'][_0x22a6cb(0x9b)]=_0x22a6cb(0x15c),_0x22d260['style'][_0x22a6cb(0xcb)]='0');const _0x318ed6=_0x1e70a3[_0x22a6cb(0x1be)](_0x22a6cb(0x17d));_0x318ed6&&(_0x318ed6[_0x22a6cb(0x175)][_0x22a6cb(0x16c)]('fa-chevron-up'),_0x318ed6[_0x22a6cb(0x175)][_0x22a6cb(0xa7)](_0x22a6cb(0xd2)));}});const _0x316f40=_0x5d6707[_0x2502f1(0x1be)](_0x2502f1(0x95)),_0x1306f3=_0x5d6707[_0x2502f1(0x1be)](_0x2502f1(0x17d));_0xdeddf8?(_0x5d6707[_0x2502f1(0x175)]['remove']('expanded'),_0x316f40&&(_0x316f40[_0x2502f1(0x1ef)][_0x2502f1(0x9b)]='none',_0x316f40[_0x2502f1(0x1ef)][_0x2502f1(0xcb)]='0'),_0x1306f3&&(_0x1306f3['classList'][_0x2502f1(0x16c)](_0x2502f1(0x19a)),_0x1306f3[_0x2502f1(0x175)][_0x2502f1(0xa7)](_0x2502f1(0xd2))),state['expandedId']=null):(_0x5d6707[_0x2502f1(0x175)]['add'](_0x2502f1(0x1f5)),_0x316f40&&(_0x316f40['style'][_0x2502f1(0x9b)]='block',setTimeout(()=>_0x316f40[_0x2502f1(0x1ef)][_0x2502f1(0xcb)]='1',0xa)),_0x1306f3&&(_0x1306f3[_0x2502f1(0x175)][_0x2502f1(0x16c)](_0x2502f1(0xd2)),_0x1306f3[_0x2502f1(0x175)][_0x2502f1(0xa7)](_0x2502f1(0x19a))),state[_0x2502f1(0x127)]=_0x1e70aa['id']);},_0x571d95[_0x4b145a(0x1af)](_0x5d6707);})):(_0x571d95[_0x53a895(0x1dd)]=_0x917330[_0x53a895(0x1c7)]?'':_0x53a895(0x1f9),_0x917330[_0x53a895(0x11a)]((_0x331292,_0x2c9a91)=>{const _0x52198e=_0x53a895,_0x53fbc0=document[_0x52198e(0x102)](_0x52198e(0x138));_0x53fbc0[_0x52198e(0x190)]=_0x52198e(0x15d);const _0x28ac6d=_0x331292[_0x52198e(0x173)]?.[_0x52198e(0x17f)](0x0,0x2)[_0x52198e(0xe0)](_0xb0705=>'<img\x20src=\x22'+_0xb0705+_0x52198e(0xf0)+_0xb0705+_0x52198e(0xd8))[_0x52198e(0x1f0)]('')||'';_0x53fbc0[_0x52198e(0x1dd)]=_0x52198e(0x150)+(_0x2c9a91+0x1)+_0x52198e(0x14d)+_0x331292['title']+'\x22>'+_0x331292['title']+_0x52198e(0x11e)+_0x331292[_0x52198e(0x186)]['name']+_0x52198e(0x16b)+_0x331292['category']+_0x52198e(0xc4)+_0x28ac6d+_0x52198e(0x107)+(_0x331292[_0x52198e(0x14f)]===_0x52198e(0x91)&&state[_0x52198e(0xb9)][_0x52198e(0x13e)]?_0x52198e(0xba)+_0x331292['id']+_0x52198e(0x119):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(state['adminPermissions'][_0x52198e(0xab)]?_0x52198e(0xb7)+_0x331292['id']+_0x52198e(0xd6):'')+_0x52198e(0x12c)+(state[_0x52198e(0xb9)][_0x52198e(0x1a6)]?_0x52198e(0xd7)+_0x331292['id']+'\x27)\x22\x20title=\x22Xóa\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x52198e(0x18e)+_0x331292['id']+'\x27)\x22\x20title=\x22Xem\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x571d95[_0x52198e(0x1af)](_0x53fbc0);}));}window[a0_0x56de0e(0xa2)]=async _0x740c9d=>{const _0x55c835=a0_0x56de0e,_0x54c362=await db[_0x55c835(0x10c)](_0x55c835(0xf6)+_0x740c9d)['once']('value'),_0x2e85bb=_0x54c362[_0x55c835(0xce)]();alert(_0x55c835(0x13d)+_0x2e85bb[_0x55c835(0x81)]+_0x55c835(0x11b)+_0x2e85bb[_0x55c835(0x1b6)]+'\x0aĐịa\x20chỉ:\x20'+_0x2e85bb[_0x55c835(0x186)][_0x55c835(0xa6)]+'\x0a\x0aNhấn\x20nút\x20\x22Sửa\x22\x20nếu\x20muốn\x20thay\x20đổi\x20nội\x20dung.');},window[a0_0x56de0e(0x184)]=async _0x1e00e2=>{const _0x1323f2=a0_0x56de0e;if(!currentUserIP)return showToast('Đang\x20xác\x20thực\x20kết\x20nối...','primary');try{const _0x1f99a6=db[_0x1323f2(0x10c)](_0x1323f2(0xd9)+_0x1e00e2+'/'+currentUserIP),_0x1a027f=await _0x1f99a6[_0x1323f2(0xd5)](_0x1323f2(0x140));if(_0x1a027f[_0x1323f2(0x1ad)]())return showToast(_0x1323f2(0x17a),_0x1323f2(0x120));await _0x1f99a6['set'](Date[_0x1323f2(0x179)]()),await db[_0x1323f2(0x10c)](_0x1323f2(0xf6)+_0x1e00e2+_0x1323f2(0x114))[_0x1323f2(0x93)](_0x1cacca=>(_0x1cacca||0x0)+0x1),showToast('Cảm\x20ơn\x20bạn\x20đã\x20yêu\x20thích!',_0x1323f2(0x1fd));}catch(_0x396b8b){showToast(_0x1323f2(0xbf),_0x1323f2(0x137));}},window[a0_0x56de0e(0x16a)]=async _0x25b55a=>{const _0x3f27a4=a0_0x56de0e;if(!currentUserIP)return showToast(_0x3f27a4(0xdb),_0x3f27a4(0x120));try{const _0x59da6f=db[_0x3f27a4(0x10c)]('interactions/comments/'+_0x25b55a+'/'+currentUserIP),_0x593fe8=await _0x59da6f[_0x3f27a4(0xd5)]('value');if(_0x593fe8[_0x3f27a4(0x1ad)]())return showToast(_0x3f27a4(0x105),_0x3f27a4(0x120));const _0x19247d=document[_0x3f27a4(0x1ee)](_0x3f27a4(0x1b3)+_0x25b55a),_0x5c2276=_0x19247d[_0x3f27a4(0x140)][_0x3f27a4(0xdc)]();if(!isCleanContent(_0x5c2276))return showToast(_0x3f27a4(0x1a7),'danger');_0x5c2276&&(showToast(_0x3f27a4(0x1e5),_0x3f27a4(0x120)),await _0x59da6f[_0x3f27a4(0x100)](Date['now']()),await db[_0x3f27a4(0x10c)](_0x3f27a4(0x117)+_0x25b55a)[_0x3f27a4(0x12b)]({'text':_0x5c2276,'timestamp':Date[_0x3f27a4(0x179)](),'ip':currentUserIP}),await db[_0x3f27a4(0x10c)](_0x3f27a4(0xf6)+_0x25b55a+_0x3f27a4(0x166))['transaction'](_0x42c025=>(_0x42c025||0x0)+0x1),_0x19247d[_0x3f27a4(0x140)]='',loadComments(_0x25b55a),showToast(_0x3f27a4(0x199),'success'));}catch(_0x26667c){showToast(_0x3f27a4(0x1a3)+_0x26667c[_0x3f27a4(0x1c2)],'danger');}},window[a0_0x56de0e(0xb8)]=_0x2a2a97=>{const _0x52b449=a0_0x56de0e,_0x3061c2=document[_0x52b449(0x1ee)](_0x52b449(0x12f)+_0x2a2a97);_0x3061c2[_0x52b449(0x175)][_0x52b449(0xc6)]('hidden');if(!_0x3061c2['classList'][_0x52b449(0x131)](_0x52b449(0x1e7)))loadComments(_0x2a2a97);};function loadComments(_0x5928c8){const _0x1c3d2d=a0_0x56de0e,_0x2867c9=document['getElementById'](_0x1c3d2d(0x187)+_0x5928c8);db[_0x1c3d2d(0x10c)](_0x1c3d2d(0x117)+_0x5928c8)[_0x1c3d2d(0xd5)]('value',_0x3359cd=>{const _0x3d08df=_0x1c3d2d;_0x2867c9[_0x3d08df(0x1dd)]='',_0x3359cd[_0x3d08df(0x11a)](_0x3c7fea=>{const _0x32d197=_0x3d08df,_0x4b2edd=document[_0x32d197(0x102)](_0x32d197(0x138));_0x4b2edd['className']=_0x32d197(0x1b4),_0x4b2edd[_0x32d197(0x1dd)]=_0x32d197(0x8b)+_0x3c7fea[_0x32d197(0xce)]()[_0x32d197(0x1c1)]+_0x32d197(0xf5)+(isAdmin&&state[_0x32d197(0xb9)]['comment']||currentUserIP&&_0x3c7fea[_0x32d197(0xce)]()['ip']===currentUserIP?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-comment-btn\x22\x20onclick=\x22window.deleteComment(\x27'+_0x5928c8+_0x32d197(0xa8)+_0x3c7fea[_0x32d197(0xdd)]+_0x32d197(0xc3):'')+_0x32d197(0x158),_0x2867c9['appendChild'](_0x4b2edd);});});}window[a0_0x56de0e(0x80)]=async(_0x31cd39,_0x5355df)=>{const _0x524d4e=a0_0x56de0e;try{const _0x3799e4=await db[_0x524d4e(0x10c)](_0x524d4e(0x117)+_0x31cd39+'/'+_0x5355df)[_0x524d4e(0xd5)]('value'),_0x3c20bd=_0x3799e4[_0x524d4e(0xce)]();if(!_0x3c20bd)return;let _0x501084=![];if(currentUserIP&&_0x3c20bd['ip']===currentUserIP)_0x501084=!![];else{if(isAdmin&&state[_0x524d4e(0xb9)][_0x524d4e(0x1b4)])_0x501084=!![];else{const _0x11d0f3=prompt(_0x524d4e(0x206));_0x11d0f3===_0x524d4e(0x1fe)&&(_0x501084=!![]);}}if(_0x501084){if(confirm(_0x524d4e(0xf4))){await db['ref'](_0x524d4e(0x117)+_0x31cd39+'/'+_0x5355df)[_0x524d4e(0x16c)](),await db[_0x524d4e(0x10c)]('ideas/'+_0x31cd39+_0x524d4e(0x166))[_0x524d4e(0x93)](_0x5e95f3=>(_0x5e95f3||0x1)-0x1);const _0xbec875=_0x3c20bd['ip'];_0xbec875&&await db[_0x524d4e(0x10c)](_0x524d4e(0x1f7)+_0x31cd39+'/'+_0xbec875)[_0x524d4e(0x16c)](),showToast('Đã\x20xóa\x20bình\x20luận!',_0x524d4e(0x1fd)),loadComments(_0x31cd39);}}else showToast(_0x524d4e(0xb1),'danger');}catch(_0x299757){showToast(_0x524d4e(0x1a3)+_0x299757['message'],_0x524d4e(0x137));}};function a0_0x2beb(_0xc2656e,_0x51c548){_0xc2656e=_0xc2656e-0x80;const _0x190c8c=a0_0x18d2();let _0x60a88a=_0x190c8c[_0xc2656e];return _0x60a88a;}function setupAdmin(){const _0x54b2d4=a0_0x56de0e,_0x1c2e60=document[_0x54b2d4(0x1ee)](_0x54b2d4(0x10a));_0x1c2e60&&(_0x1c2e60[_0x54b2d4(0x110)]=async()=>{const _0xef974a=_0x54b2d4,_0x540dc4=document[_0xef974a(0x1ee)](_0xef974a(0x148))[_0xef974a(0x140)][_0xef974a(0xdc)](),_0x31604d=document['getElementById'](_0xef974a(0x1b2))['value']['trim']();showToast(_0xef974a(0xf1),_0xef974a(0x120));if(_0x540dc4===_0xef974a(0x8a)&&_0x31604d===_0xef974a(0x1fe)){localStorage[_0xef974a(0x18a)](_0xef974a(0x1bd),_0xef974a(0xff)),showToast(_0xef974a(0x159),_0xef974a(0x1fd)),setTimeout(()=>{const _0x19b38d=_0xef974a;location[_0x19b38d(0x1e6)]=_0x19b38d(0x1ea);},0x3e8);return;}const _0x4576a0=await db[_0xef974a(0x10c)](_0xef974a(0x99))[_0xef974a(0xd5)](_0xef974a(0x140));let _0x249cb3=null;_0x4576a0['forEach'](_0x16fef3=>{const _0x4e5716=_0xef974a,_0x3d3b43=_0x16fef3[_0x4e5716(0xce)]();if(_0x3d3b43[_0x4e5716(0x155)]===_0x540dc4&&_0x3d3b43[_0x4e5716(0x185)]===_0x31604d)_0x249cb3=_0x3d3b43;}),_0x249cb3?(localStorage[_0xef974a(0x18a)]('adminLoggedIn',_0xef974a(0xff)),localStorage[_0xef974a(0x18a)](_0xef974a(0xa3),JSON[_0xef974a(0xe1)](_0x249cb3)),processLoginSuccess(),showToast(_0xef974a(0x1f2),_0xef974a(0x1fd))):showToast(_0xef974a(0x128),_0xef974a(0x137));});const _0xef5d32=document[_0x54b2d4(0x1ee)](_0x54b2d4(0x12e));_0xef5d32&&(_0xef5d32['onclick']=()=>{const _0x23412b=_0x54b2d4;localStorage[_0x23412b(0x1c8)](_0x23412b(0x86)),localStorage[_0x23412b(0x1c8)](_0x23412b(0xa3)),localStorage[_0x23412b(0x1c8)](_0x23412b(0x1bd)),location['reload']();});}function loadAdminDashboard(){const _0x4471fb=a0_0x56de0e;if(!db)return;const _0x8cc7b7=document[_0x4471fb(0x1ee)](_0x4471fb(0xe7)),_0x3de16a=document['getElementById'](_0x4471fb(0x19f)),_0x2b6531=document[_0x4471fb(0x1ee)](_0x4471fb(0x87)),_0x14b84d=document[_0x4471fb(0x1ee)](_0x4471fb(0x1c0));if(_0x8cc7b7){const _0x38dd15=state[_0x4471fb(0xb9)][_0x4471fb(0x11f)]||state[_0x4471fb(0xb9)][_0x4471fb(0xeb)];_0x8cc7b7[_0x4471fb(0x1ef)][_0x4471fb(0x9b)]=_0x38dd15?'block':'none';if(_0x3de16a){const _0x5e8133=_0x3de16a['querySelector'](_0x4471fb(0x138));_0x5e8133&&(_0x5e8133[_0x4471fb(0x1ef)][_0x4471fb(0x9b)]=state[_0x4471fb(0xb9)][_0x4471fb(0x11f)]?_0x4471fb(0x147):_0x4471fb(0x15c));}}_0x2b6531&&(_0x2b6531[_0x4471fb(0x1ef)][_0x4471fb(0x9b)]=state[_0x4471fb(0xb9)][_0x4471fb(0x1b4)]?_0x4471fb(0x92):_0x4471fb(0x15c));_0x14b84d&&(_0x14b84d[_0x4471fb(0x1ef)][_0x4471fb(0x9b)]=state[_0x4471fb(0xb9)][_0x4471fb(0x13e)]?'block':_0x4471fb(0x15c));db[_0x4471fb(0x10c)]('ideas')[_0x4471fb(0x97)](_0x4471fb(0x140)),db[_0x4471fb(0x10c)](_0x4471fb(0xfc))['on'](_0x4471fb(0x140),_0x2f68bb=>{const _0x461884=_0x4471fb,_0x52b6f8=[];_0x2f68bb[_0x461884(0x11a)](_0x2f8eaa=>{const _0x511e19=_0x461884,_0xa3abf8=_0x2f8eaa[_0x511e19(0xce)]();if(!_0xa3abf8[_0x511e19(0x14f)])_0xa3abf8[_0x511e19(0x14f)]=_0x511e19(0x91);_0x52b6f8['push']({'id':_0x2f8eaa[_0x511e19(0xdd)],..._0xa3abf8});});const _0x526984=_0x52b6f8['filter'](_0x4e2575=>_0x4e2575[_0x461884(0x14f)]==='pending')[_0x461884(0x1ac)]((_0x36969a,_0x782ed8)=>_0x782ed8[_0x461884(0x192)]-_0x36969a[_0x461884(0x192)]);state[_0x461884(0x91)][_0x461884(0xfc)]=_0x526984,state['pending'][_0x461884(0x1ec)]=_0x526984[_0x461884(0x1c7)];const _0x97da39=document[_0x461884(0x1ee)]('pending-container');if(_0x97da39&&state[_0x461884(0xb9)][_0x461884(0x13e)])renderIdeasWithPagination(_0x461884(0x91),_0x97da39,'pending-pagination',!![]);let _0x237eff=_0x52b6f8[_0x461884(0x13b)](_0x2db950=>_0x2db950['status']===_0x461884(0x1da))['sort']((_0x4f5d4b,_0x154bcf)=>_0x154bcf['timestamp']-_0x4f5d4b[_0x461884(0x192)]);state[_0x461884(0x1d2)]&&(_0x237eff=_0x237eff[_0x461884(0x13b)](_0x34568f=>_0x34568f[_0x461884(0x81)]&&_0x34568f[_0x461884(0x81)][_0x461884(0xcc)]()[_0x461884(0x82)](state[_0x461884(0x1d2)])||_0x34568f[_0x461884(0x186)]?.[_0x461884(0x118)]&&_0x34568f['author'][_0x461884(0x118)][_0x461884(0xcc)]()[_0x461884(0x82)](state[_0x461884(0x1d2)])));state['adminCat']!==_0x461884(0x17e)&&(_0x237eff=_0x237eff[_0x461884(0x13b)](_0x3a1260=>_0x3a1260[_0x461884(0x11f)]===state[_0x461884(0x126)]));state[_0x461884(0xf8)][_0x461884(0xfc)]=_0x237eff,state[_0x461884(0xf8)][_0x461884(0x1ec)]=_0x237eff[_0x461884(0x1c7)];const _0x273a03=document['getElementById'](_0x461884(0x172));if(_0x273a03)renderIdeasWithPagination(_0x461884(0xf8),_0x273a03,_0x461884(0x1e8),!![]);},_0x5d658b=>{const _0x5a365b=_0x4471fb;console[_0x5a365b(0xbb)](_0x5a365b(0x19b),_0x5d658b),showToast(_0x5a365b(0x1d0),_0x5a365b(0x137));});if(state['adminPermissions'][_0x4471fb(0x1b4)])loadCentralComments();}function loadCentralComments(){const _0x314722=a0_0x56de0e,_0x4e9f73=document[_0x314722(0x1ee)](_0x314722(0x15b));if(!_0x4e9f73)return;db[_0x314722(0x10c)](_0x314722(0x10d))['on'](_0x314722(0x140),async _0x3017df=>{const _0x558545=_0x314722;_0x4e9f73[_0x558545(0x1dd)]='';const _0x1327d0=[],_0x1fbcf3={},_0x51576b=await db[_0x558545(0x10c)](_0x558545(0xfc))[_0x558545(0xd5)](_0x558545(0x140));_0x51576b[_0x558545(0x11a)](_0x316221=>{const _0x20b4ca=_0x558545;_0x1fbcf3[_0x316221[_0x20b4ca(0xdd)]]=_0x316221[_0x20b4ca(0xce)]()['title']||_0x20b4ca(0x19d);}),_0x3017df[_0x558545(0x11a)](_0x4cda1b=>{const _0x5f0cf9=_0x558545,_0x395463=_0x4cda1b[_0x5f0cf9(0xdd)];_0x4cda1b[_0x5f0cf9(0x11a)](_0x3fd2e9=>{const _0x4674a5=_0x5f0cf9;_0x1327d0[_0x4674a5(0x12b)]({'id':_0x3fd2e9[_0x4674a5(0xdd)],'ideaId':_0x395463,'ideaTitle':_0x1fbcf3[_0x395463],..._0x3fd2e9['val']()});});}),_0x1327d0[_0x558545(0x1ac)]((_0x4c57a6,_0x380ea0)=>_0x380ea0[_0x558545(0x192)]-_0x4c57a6[_0x558545(0x192)]);if(_0x1327d0['length']===0x0){_0x4e9f73[_0x558545(0x1dd)]=_0x558545(0xe6);return;}_0x1327d0[_0x558545(0x11a)](_0x1a24ad=>{const _0x2f2503=_0x558545,_0x1026c7=document['createElement'](_0x2f2503(0x138));_0x1026c7[_0x2f2503(0x190)]=_0x2f2503(0x15d),_0x1026c7[_0x2f2503(0x1ef)][_0x2f2503(0xd4)]=_0x2f2503(0x9f),_0x1026c7['innerHTML']=_0x2f2503(0x13c)+_0x1a24ad[_0x2f2503(0x183)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cell\x22\x20style=\x22font-weight:500;\x22>'+_0x1a24ad['text']+_0x2f2503(0x107)+(state[_0x2f2503(0xb9)]['comment']?_0x2f2503(0x18f)+_0x1a24ad[_0x2f2503(0xc9)]+_0x2f2503(0xa8)+_0x1a24ad['id']+_0x2f2503(0x104):_0x2f2503(0x1cd))+_0x2f2503(0x1bb),_0x4e9f73[_0x2f2503(0x1af)](_0x1026c7);});});}function setupLightbox(){const _0x275db9=a0_0x56de0e,_0x395066=document[_0x275db9(0x1ee)](_0x275db9(0x112)),_0x1d09ca=document[_0x275db9(0x1ee)](_0x275db9(0x178));if(!_0x395066)return;window[_0x275db9(0xed)]=_0x44cf3c=>{const _0x5ec5e3=_0x275db9;_0x1d09ca[_0x5ec5e3(0xe3)]=_0x44cf3c,_0x395066[_0x5ec5e3(0x175)][_0x5ec5e3(0xa7)]('active'),document[_0x5ec5e3(0xe5)]['style'][_0x5ec5e3(0x204)]='hidden';},_0x395066[_0x275db9(0x110)]=()=>{const _0x1257f9=_0x275db9;_0x395066[_0x1257f9(0x175)][_0x1257f9(0x16c)](_0x1257f9(0x144)),document['body'][_0x1257f9(0x1ef)][_0x1257f9(0x204)]=_0x1257f9(0x142);};}window[a0_0x56de0e(0x108)]=async _0xba58fa=>{const _0x4f1ce0=a0_0x56de0e;if(isAdmin&&state[_0x4f1ce0(0xb9)][_0x4f1ce0(0x13e)])try{await db[_0x4f1ce0(0x10c)](_0x4f1ce0(0xf6)+_0xba58fa)[_0x4f1ce0(0xfd)]({'status':_0x4f1ce0(0x1da)}),showToast(_0x4f1ce0(0x160),_0x4f1ce0(0x1fd));}catch(_0x52f7ae){showToast(_0x4f1ce0(0x207),'danger');}else showToast('Bạn\x20không\x20có\x20quyền\x20duyệt!',_0x4f1ce0(0x137));},window[a0_0x56de0e(0xbe)]=async _0x263e41=>{const _0x424e91=a0_0x56de0e;if(isAdmin&&state['adminPermissions']['delete']){if(confirm(_0x424e91(0x1d4)))await db['ref'](_0x424e91(0xf6)+_0x263e41)['remove']();}else showToast(_0x424e91(0x1ab),_0x424e91(0x137));},window[a0_0x56de0e(0x122)]=async _0x33a0fa=>{const _0x38c5d8=a0_0x56de0e;if(!isAdmin||!state['adminPermissions'][_0x38c5d8(0xab)])return showToast(_0x38c5d8(0xda),_0x38c5d8(0x137));const _0x26bcc8=await db['ref']('ideas/'+_0x33a0fa)['once'](_0x38c5d8(0x140)),_0x3c1293=prompt(_0x38c5d8(0x1ed),_0x26bcc8[_0x38c5d8(0xce)]()[_0x38c5d8(0x81)]),_0x203a42=prompt(_0x38c5d8(0xb0),_0x26bcc8['val']()['description']);if(_0x3c1293&&_0x203a42)await db[_0x38c5d8(0x10c)](_0x38c5d8(0xf6)+_0x33a0fa)['update']({'title':_0x3c1293,'description':_0x203a42});};function resizeImage(_0x374ac3,_0x41eba3,_0x225227,_0x188c1f){return new Promise(_0x13515f=>{const _0x293d3d=a0_0x2beb,_0xa6f069=new FileReader();_0xa6f069[_0x293d3d(0x146)]=_0x2846f4=>{const _0x205ece=_0x293d3d,_0x2409f6=new Image();_0x2409f6[_0x205ece(0x146)]=()=>{const _0x46d90f=_0x205ece,_0x58eded=document[_0x46d90f(0x102)](_0x46d90f(0x94));let _0x2f6d7c=_0x2409f6[_0x46d90f(0x109)],_0x584cda=_0x2409f6[_0x46d90f(0x1ca)];_0x2f6d7c>_0x584cda?_0x2f6d7c>_0x41eba3&&(_0x584cda*=_0x41eba3/_0x2f6d7c,_0x2f6d7c=_0x41eba3):_0x584cda>_0x225227&&(_0x2f6d7c*=_0x225227/_0x584cda,_0x584cda=_0x225227),_0x58eded[_0x46d90f(0x109)]=_0x2f6d7c,_0x58eded[_0x46d90f(0x1ca)]=_0x584cda,_0x58eded[_0x46d90f(0x143)]('2d')[_0x46d90f(0xea)](_0x2409f6,0x0,0x0,_0x2f6d7c,_0x584cda),_0x13515f(_0x58eded[_0x46d90f(0x1e3)](_0x46d90f(0x145),_0x188c1f));},_0x2409f6[_0x205ece(0xe3)]=_0x2846f4[_0x205ece(0x1f4)]['result'];},_0xa6f069[_0x293d3d(0x156)](_0x374ac3);});}function showToast(_0x505b1b,_0x391255){const _0x327b1a=a0_0x56de0e,_0x2e1bdc=document[_0x327b1a(0x1ee)]('toast-container'),_0x109045=document['createElement'](_0x327b1a(0x138));_0x109045[_0x327b1a(0x190)]=_0x327b1a(0xb5),_0x109045[_0x327b1a(0x1ef)][_0x327b1a(0x136)]=_0x327b1a(0x205)+(_0x391255||_0x327b1a(0x120))+')',_0x109045[_0x327b1a(0x1dd)]=_0x327b1a(0x208)+_0x505b1b+'</span>',_0x2e1bdc['appendChild'](_0x109045),setTimeout(()=>{const _0x1d617e=_0x327b1a;_0x109045[_0x1d617e(0x1ef)]['opacity']='0',setTimeout(()=>_0x109045[_0x1d617e(0x16c)](),0x1f4);},0xbb8);}